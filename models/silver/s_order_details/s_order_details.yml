version: 2

models:
  - name: b_order_details_enriched
    description: >
      Table that joins the order_details source with the products table
      to enrich each order detail with product information, including name and price.
    tags: ['orders', 'products', 'price']
    meta:
      layer: silver
      owner: 'data_team'
    columns:
      - name: detail_order_id
        description: Unique identifier for the order detail, generated by combining order_id and product_id.
        tests:
          - not_null
          - unique
      - name: order_id
        description: Unique identifier of the order this detail belongs to.
        tests:
          - not_null
      - name: updated_at
        description: Timestamp indicating when the product was added to the order.
      - name: product_id
        description: Identifier of the product added to the order.
        tests:
          - not_null
      - name: product_name
        description: Name of the product ordered.
      - name: quantity
        description: Number of units ordered for the product.
      - name: unit_price
        description: Price per unit of the product at the time of the order.
      - name: total_price
        description: Total value of the order item (quantity * unit_price).
